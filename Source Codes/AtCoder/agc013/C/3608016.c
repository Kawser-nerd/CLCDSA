/*
??????????1???????????
????????1????????????????????????????
???????????????????????????????????????

??????????????????????????????
?????????0????????1???????????0??????1???
??????????T?????0????????????????????????
*/

#include <stdio.h>
#include <stdlib.h>
#define ll long long
#define rep(i,l,r)for(ll i=(l);i<(r);i++)
int upll(const void*a, const void*b){return*(ll*)a<*(ll*)b?-1:*(ll*)a>*(ll*)b?1:0;}
void sortup(ll*a,int n){qsort(a,n,sizeof(ll),upll);}

ll n,L,T;
ll ans[100010];
int main(){
	scanf("%lld%lld%lld",&n,&L,&T);
	ll cnt=0;
	rep(i,0,n){
		ll x,w;
		scanf("%lld%lld",&x,&w);
		if(w==1)x+=T;
		else x-=T;
		//??0??????????????
		cnt-=x/L;
		x%=L;
		if(x<0){
			x+=L;
			cnt++;
		}
		ans[i]=x;
		cnt%=n;
	}
	sortup(ans,n);
	
	//???????ans[0]?????cnt????????????
	//0??????????????ans[-cnt]??
	rep(i,0,n)printf("%lld\n",ans[(i-cnt+n)%n]);
} ./Main.c: In function ‘main’:
./Main.c:21:2: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
  scanf("%lld%lld%lld",&n,&L,&T);
  ^
./Main.c:25:3: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
   scanf("%lld%lld",&x,&w);
   ^