N, M = map(int, input().split())

Adj = [[] for i in range(N+1)]
for i in range(M):
    a, b = map(int, input().split())
    Adj[a].append(b)
    Adj[b].append(a)

Q = int(input())
v, d, c = [0]*Q, [0]*Q, [0]*Q
for i in range(Q):
    v[i], d[i], c[i] = map(int, input().split())

memo = [[0] * (10+1) for i in range(N+1)]


def paint(v, d, i):
    # ?????????????????
    if memo[v][d]:
        return

    # ?????????????????????????????
    memo[v][d] = i

    # ??-1???????????????
    if d == 0:
        return

    # ???????????????0????
    paint(v, d-1, i)

    # ???????????????????????????
    # ???????????????1???????
    for u in Adj[v]:
        paint(u, d-1, i)


# ?????????
for q in range(Q-1, -1, -1):
    paint(v[q], d[q], q+1)


for i in range(1, N+1):
    # ???????????????????????????????????????????????
    if memo[i][0] != 0:
        print(c[memo[i][0]-1])
    else:
        print(0)