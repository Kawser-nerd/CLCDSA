# ???????(Longest Increasing Subsequence)
# "?????????"?????????????????????????
# ??????????????????????????????????????????????
# ?????????????????????????????
# ???DP?????????????????????????????i????????????????????????
from bisect import bisect_left
N = int(input())
c = [int(input()) for i in range(N)]
dp = [c[0]]  # dp[i]:i??????????????????????????????
for i in range(1, N):
    # ??????????
    # dp????????c[i]??????c[i]???????????????????
    if c[i] > dp[-1]:
        dp.append(c[i])
    # ?????????c[i]?????????????????????(????????)
    else:
        dp[bisect_left(dp, c[i])] = c[i]

print(N-len(dp))