'''
??
https://youtu.be/cJ-WjtA34GQ?t=1899
https://atcoder.jp/contests/agc011/submissions/1157055
http://noshi91.hatenablog.com/entry/2018/04/17/183132
https://camypaper.bitbucket.io/2016/12/18/adc2016/
'''


class UnionFind:
    def __init__(self, n):
        self.v = [-1 for _ in range(n)]  # ?(?): ????? * (-1) / ?(?): ??????(0-indexed)

    def find(self, x):  # x?????????????????
        if self.v[x] < 0:  # (?)??
            return x
        else:  # ??????
            self.v[x] = self.find(self.v[x])  # unite??, ?????????????????????
            return self.v[x]

    def unite(self, x, y):  # ??????????rank??????????
        x = self.find(x)
        y = self.find(y)
        if x == y:
            return
        if -self.v[x] < -self.v[y]:  # size??, ?(-1) * (????? * (-1)), (?)???????
            x, y = y, x  # ???????????y????, find??????????
        self.v[x] += self.v[y]  # ??????????, ????? * (-1)
        self.v[y] = x  # ?????????y(??y???????)???x(??x???????)???

    def root(self, x):
        return self.v[x] < 0  # (?)??

    def same(self, x, y):
        return self.find(x) == self.find(y)  # ????????

    def size(self, x):
        return -self.v[self.find(x)]  # ????????


N, M = map(int, input().split())
uf = UnionFind(2 * N)  # ??? * 2(?, ??????)
for _ in range(M):
    u, v = map(int, input().split())
    u -= 1
    v -= 1
    uf.unite(u, N + v)  # u, v: ???? / N + u, N + v: ????
    uf.unite(N + u, v)  # ????????, ?????, ???????????, ??????(???????????????)

    # print(uf.v)

alone = 0
bi = 0
unko = 0

for u in range(N):
    if uf.root(u) or uf.root(N + u): # ????????, ??/???????True, ????????????, ????????True
        if uf.size(u) == 1: # ????u, N + u??????????, ????????
            alone += 1
        elif uf.same(u, N + u):  # ???????, ????????????????????????, ?????????
            unko += 1
        else:
            bi += 1  # ?????

ans = 0
ans += alone * N
ans += N * alone
ans -= alone * alone
ans += bi * bi * 2
ans += bi * unko
ans += unko * bi
ans += unko * unko

print(ans)