/*
?????????????????1???
???????????????2??2???
??????????????

??????????××????????
??????????????????????????
??????????????????????
?????????????????

???"??"????????????
???a?c?0?2?????mod 3??????????????
??????????????????????
???mod 3??????????
???????????????
????????????????

???????????
???a???b????????????
?2????a???
???a????????????????????????
??aab?acc?bbc?baa?cca
a???????b,c??????????????
?2????b???
aba?acc?bbc
abb?ccb?caa?bba
abc?????(??b..?????????????????bbb)
?2????c???
ac?bb

abc?bbb????permutation????????
4??????
aabc?accc?bbcc?baac?babb?(bab?abb????)?abbb
babc?ccbc?caac?cabb?bbbb
cabc?bbbc?bbaa?bcca?bcbb?(bcb?cbb????)?cbbb
????

???4??????????????????????????????????????????3??????????????????????????????????
?????
4???????????????????????
3??????abc?bbb???permutation????????????

???4????????????????????????????????????
dp[n][i][j][k]=n????????????????i???mod 3?j?????????????(k???:??)???????
???dp????
*/

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define ll long long
#define rep(i,l,r)for(ll i=(l);i<(r);i++)
#define MOD 998244353

char s[200010];
ll dp[200010][3][3][2];
//n????????????????i???mod 3?j?????????????(k???:??)???????

int main(){
	scanf("%s",s);
	
	//????????????????????????????????
	int N=strlen(s);
	int con=0,ss[3]={};
	rep(i,0,N){
		ss[s[i]-'a']++;
		if(i&&s[i-1]==s[i])con=1;
	}
	
	if(ss[0]==N||ss[1]==N||ss[2]==N){
		//???1??
		puts("1");
		return 0;
	}
	if(N==2){
		//2
		puts("2");
		return 0;
	}
	if(N==3){
		//3
		if(ss[0]==1&&ss[1]==1)puts("3");
		else printf("%d\n",6+!con);
		return 0;
	}
	
	//???
	dp[1][0][0][0]=dp[1][1][1][0]=dp[1][2][2][0]=1;
	rep(n,1,N)rep(i,0,3)rep(j,0,3)rep(k,0,2){
		rep(d,0,3)dp[n+1][d][(j+d)%3][k|(i==d)]=(dp[n+1][d][(j+d)%3][k|(i==d)]+dp[n][i][j][k])%MOD;
	}
	ll ans=0;
	rep(i,0,3)ans+=dp[N][i][(ss[1]+2*ss[2])%3][1];
	printf("%d\n",(ans+!con)%MOD);
} ./Main.c: In function ‘main’:
./Main.c:94:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 2 has type ‘long long int’ [-Wformat=]
  printf("%d\n",(ans+!con)%MOD);
         ^
./Main.c:60:2: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
  scanf("%s",s);
  ^