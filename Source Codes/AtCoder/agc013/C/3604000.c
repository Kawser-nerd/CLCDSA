#include <stdio.h>
#include <stdlib.h>
#define ll long long
#define rep(i,l,r)for(ll i=(l);i<(r);i++)
typedef struct tuple{ll x,w,id;}E;
int psort(const void*a,const void*b){
	E*p=(E*)a,*q=(E*)b;
	if((*p).x<(*q).x)return -1;
	if((*p).x>(*q).x)return  1;
	//??????????????L????????????2?????????
	//???????????????????????????????????
	//???????+??????????-??????????
	if((*p).w>(*q).w)return -1;
	return 1;
}

ll n,L,T;
ll x[100010],w[100010];
E ans[100010];
int main(){
	scanf("%lld%lld%lld",&n,&L,&T);
	rep(i,0,n)scanf("%lld%lld",x+i,w+i);
	//L????????????
	rep(i,0,n){
		if(w[i]==1){
			ans[i].x=(x[i]+T)%L;
		}else{
			ans[i].x=((x[i]-T)%L+L)%L;
		}
		ans[i].w=w[i];
		ans[i].id=i;
	}
	qsort(ans,n,sizeof(E),psort);
	
	ll cnt=0;
	rep(i,1,n)if(w[0]!=w[i]){
		//??L/2????????
		cnt+=T/L*2;
		//???T%L????2?????
		if(w[0]==1){
			if(x[i]-x[0]<=T%L*2)cnt++;
			if(x[i]-x[0]+L<=T%L*2)cnt++;
		}else{
			if(L-(x[i]-x[0])<=T%L*2)cnt++;
			if(L-(x[i]-x[0])+L<=T%L*2)cnt++;
		}
		cnt%=n;
	}
	
	//???0?????????cnt?????????(w[0]==1?cnt:-cnt)????????????
	//ans[offset].id==0???????????0???ans[offset-(w[0]==1?cnt:-cnt)].x???
	ll offset=0;
	rep(i,0,n)if(ans[i].id==0){
		offset=i;
		break;
	}

	if(w[0]==1){
		rep(i,0,n)printf("%lld\n",ans[(i+offset-cnt+n)%n].x);
	}else{
		rep(i,0,n)printf("%lld\n",ans[(i+offset+cnt+n)%n].x);
	}
} ./Main.c: In function ‘main’:
./Main.c:21:2: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
  scanf("%lld%lld%lld",&n,&L,&T);
  ^
./Main.c:22:12: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
  rep(i,0,n)scanf("%lld%lld",x+i,w+i);
            ^