#include <stdio.h>
#include <stdlib.h>
#include <inttypes.h>

int cmp(const void* a, const void* b) {
	int x = *((const int*)a);
	int y = *((const int*)b);
	return x > y ? 1 : (x < y ? -1 : 0);
}

int N;
int A[200000];
int sort_temp[200000];

int get_id(int num) {
	int left = 0, right = N - 1;
	while (left <= right) {
		int mid = (left + right) / 2; /* ????????????????????????? */
		if (sort_temp[mid] == num) return mid;
		else if (sort_temp[mid] < num) left = mid + 1;
		else right = mid - 1;
	}
	puts("Asumisu Kekkonn!!!");
	exit(1);
}

#define BIT_MAX 200000

int bit_table[BIT_MAX];

void bit_init(void) {
	int i;
	for(i=0;i<BIT_MAX;i++)bit_table[i]=0;
}

void bit_add(int pos,int value) {
	pos++;
	while(pos<=BIT_MAX) {
		bit_table[pos-1]+=value;
		pos+=pos & (-pos);
	}
}

int bit_sum(int pos) {
	int sum=0;
	pos++;
	while(pos>0) {
		sum+=bit_table[pos-1];
		pos-=pos & (-pos);
	}
	return sum;
}

int main(void) {
#if 0
	int i, j;
	uint64_t answer;
#endif
	int i;
	int gu_ki, ki_gu;
	if (scanf("%d", &N) != 1) return 1;
	for (i = 0; i < N; i++) {
		if (scanf("%d", &A[i]) != 1) return 1;
	}

#if 0
	/* ???????????????????? */
	/* ?????????????? */
	/* ?? */
	for (i = 0, j = 0; i < N; i += 2, j++) sort_temp[j] = A[i];
	qsort(sort_temp, j, sizeof(int), cmp);
	for (i = 0, j = 0; i < N; i += 2, j++) A[i] = sort_temp[j];
	/* ?? */
	for (i = 1, j = 0; i < N; i += 2, j++) sort_temp[j] = A[i];
	qsort(sort_temp, j, sizeof(int), cmp);
	for (i = 1, j = 0; i < N; i += 2, j++) A[i] = sort_temp[j];
#endif
	/* ??????? */
	for (i = 0; i < N; i++) sort_temp[i] = A[i];
	qsort(sort_temp, N, sizeof(int), cmp);

#if 0
	/* ?????????????? */
#ifdef NAIVE_9D5D05CF_E86C_4690_BEB6_AB1B261D60BA
	answer = 0;
	for (i = N - 1; i >= 0; i--) {
		for (j = 0; j < i; j++) {
			if (A[j] > A[j + 1]) {
				int temp = A[j];
				A[j] = A[j + 1];
				A[j + 1] = temp;
				answer++;
			}
		}
	}
#else
	bit_init();
	answer = 0;
	for (i = 0; i < N; i++) {
		/* ???????? - ?????????????????? */
		answer += i - bit_sum(get_id(A[i]));
		bit_add(get_id(A[i]), 1);
	}
#endif

	printf("%"PRIu64"\n", answer);
#endif

	/* ??????? */
	gu_ki = ki_gu = 0;
	for (i = 0; i < N; i++) {
		if (i % 2 == 0 && get_id(A[i]) % 2 != 0) gu_ki++;
		if (i % 2 == 1 && get_id(A[i]) % 2 != 1) ki_gu++;
	}
	if (gu_ki != ki_gu) {
		/* ????????????????????????????? */
		puts("impossible?");
		return 1;
	}
	printf("%d\n", gu_ki);

	return 0;
}

/*
??2 = 1????2??????????

ABABABABABABABABABABAB
??2????A?B???????????????

??1?????????????????????????????

?WA
??

6
1
10
2
20
3
30

1 10 2 20 3 30 ? ????????????3??????????????
1 10 2 3 20 30 ? ??1
1 3 2 10 20 30 ? ??2
1 2 3 10 20 30 ? ??1 ? 2?????

??? : ????????????????????????????????
1 10 2 20 3 30
0 4  1 5  2 3 ? ????
0 1  2 3  4 5 ? ??
o x  x o  o o ? ??????

??2???????????????????????????????

*/