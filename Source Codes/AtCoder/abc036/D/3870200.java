import java.util.*;
import java.awt.*;
import static java.lang.System.*;
import static java.lang.Math.*;
public class Main {
    static int mod=1000000007;
    public static void main(String[]$) {
        //??:???????????????
        Scanner sc=new Scanner(in);
        int n=sc.nextInt();
        //?????
        ArrayList<Integer>[] v=new ArrayList[n+1];
        for (int i = 1; i <= n; i++) {
            v[i]=new ArrayList<>();
        }
        for (int i = 1; i < n; i++) {
            int a=sc.nextInt();
            int b=sc.nextInt();
            v[a].add(b);
            v[b].add(a);
        }
        //?????
        long[] f=new long[n+1];
        long[] g=new long[n+1];
        //par[k]:??k?????????????0?????????
        int[] par=new int[1+n];
        //?????????TreeSet???
        TreeSet<Integer> set=new TreeSet<>();
        Queue<Integer> q=new ArrayDeque<>();
        //1?????????????????(??????????????????)
        q.add(1);
        //BFS????????
        while(q.size()>0) {
            int x = q.poll();
            //?????? ?????&&?????
            if(x!=1&&v[x].size()==1){
                f[x]=2;
                g[x]=1;
                //?????????????
                set.add(par[x]);
            }else{
                for (Integer k : v[x]) {
                    //?????????&&?????????par???
                    if(k!=1&&par[k]!=x){
                        if(par[k]==0)par[k]=x;
                        q.add(k);
                    }
                }
            }
        }
        //BFS?????????????
        while (set.size()>0){
            int k=set.pollFirst();
            //white:??k?????????????
            //black:??k?????????????
            long white=1,black=1;
            //l:k????????????
            //k?????????
            for(Integer l:v[k]){
                if(par[l]==k) {
                    white = (white * f[l]) % mod;
                    black = (black * g[l]) % mod;
                }
            }
            //????????
                f[k] = (black + white) % mod;
                g[k] = white % mod;
            //??????????????????set???
            //par[k]=0????????????while????????
            if(par[k]!=0&&f[k]!=0)set.add(par[k]);
        }
        //???f[??]?
        out.println(f[1]);
    }
} Note: ./Main.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.