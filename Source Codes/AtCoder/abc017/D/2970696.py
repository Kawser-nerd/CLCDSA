n,m=map(int,input().split())
A=[]
for i in range(n):
    A.append(int(input())-1) #??0?????

M=[-1 for i in range(m)] #k??????????????M[k]??
N=[0 for i in range(n)] #i??????????k????????????N[n-i-k]??


mod=1000000007


su=1
ri=0
M[A[0]]=0
N[(n-1)-0]=1


for i in range(1,n):
    ke=0

    mk=M[A[i]] #??????????????
    M[A[i]]=i
    while ri<=mk :
        ke+=N[n-1-ri]
        N[n-1-ri]=0
        ri+=1
        

    N[n-1-i]+=su
    su=(su*2-ke)%mod

print(sum(N)%mod)