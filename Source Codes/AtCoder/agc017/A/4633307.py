#AGC023 A: [1]?????????????????2????????????????[2]??????????????????????????
#AGC025 A: ????list()?????1?????????
#ABC113 B: NumPy?????np.abs()


#AGC017 A
'''
??
i???????????Ai??????
i=1,2,...,N
0?????????????????????????
????????????2???????P?????????????
???N?1??50??

??
Ai??????a?????N-a????????
???????????????: 2**a??
??????2???????P???????????
N-a??????P=0,1??????2**(N-a-1)??
N-a????????????????????P=0,1??????2**(N-a-1)??
???...
N-a=0????P=1?????0
N-a=0????P=0?????2**N
N-a>0????P???????2**(N-1)
'''

N,P = map(int,input().split(' '))
odds = [int(x)%2 for x in input().split(' ')].count(1)

if odds > 0:
	print(str(int(2**(N-1))))
elif P == 1:
	print('0')
elif P == 0:
	print(str(int(2**(N))))