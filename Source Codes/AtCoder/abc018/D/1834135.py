def d_valentine(N, M, P, Q, R, C):
    """
    N:?????
    M:?????
    P,Q:??P????Q????????????
    R:N???????????????????
    C:????????????
      (????????????,???????????,?????????)
    """
    from itertools import combinations

    # choco[i][j]???i+1?????j+1?????????????????????
    choco = [[0] * M for _ in range(N)]
    for row in C:
        choco[row[0] - 1][row[1] - 1] = row[2]

    ans = 0
    for girl in combinations(range(N), P):
         # target[j]??girl??????j?????????????????
        target = [0] * M
        for i in girl:
            for j in range(M):
                target[j] += choco[i][j]
        # ??????????????Q?????????
        ans = max(ans, sum(sorted(target, reverse=True)[:Q]))
    return ans
N,M,P,Q,R = [int(i) for i in input().split()]
C = [[int(i) for i in input().split()] for j in range(R)]
print(d_valentine(N, M, P, Q, R, C))