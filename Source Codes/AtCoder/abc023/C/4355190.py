from collections import Counter

r, c, k = map(int, input().split())
n = int(input())
row_candy = [0] * r
col_candy = [0] * c

# ??????????????????
candys = [[int(i) for i in input().split()] for j in range(n)]
for i, j in candys:
    row_candy[i-1] += 1
    col_candy[j-1] += 1


# i ???????????k-i ????????????????
row_count = Counter(row_candy)
col_count = Counter(col_candy)
ans = sum(row_count[i] * col_count[k-i] for i in range(k+1))


# ?????????????????
for i, j in candys:
    # ????????????????i???j????
    p = row_candy[i-1] + col_candy[j-1]
    if p == k:
        # k ???????????
        ans -= 1
    if p == k+1:
        # k+1 ??????????
        ans += 1

print(ans)