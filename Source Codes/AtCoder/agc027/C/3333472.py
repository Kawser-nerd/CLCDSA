from collections import deque
N, M = map(int, input().split())
S = input()

# ??i????A?B??????????????
connect_label = [[0, 0] for i in range(N)]

# ?????????????????
queue = deque()

# ??????????????
deleted_set = set()

# ????????
G = [[] for i in range(N)]

# ???????
for i in range(M):
    a, b = map(int, input().split())
    a, b = a-1, b-1
    G[a].append(b)
    G[b].append(a)
    connect_label[a][1 - (S[b] == "A")] += 1
    connect_label[b][1 - (S[a] == "A")] += 1

# A???B????????????????????
for i in range(N):
    if 0 in connect_label[i]:
        queue.append(i)

# ?????????????????
while queue:
    n = queue.pop()

    # ???????????????
    if n in deleted_set:
        continue

    # ????????????????????
    for v in G[n]:
        connect_label[v][1 - (S[n] == "A")] -= 1
        # ?????A???B??????????????????????
        if (v not in deleted_set) and (0 in connect_label[v]):
            queue.appendleft(v)
        
    deleted_set.add(n)

# ?????????No, ???????Yes
print("Yes" if len(deleted_set) != N else "No")