//
//  main.c
//  B_ENSUI
//
//  Created by T.T on 2016/05/15.
//  Copyright © 2016? T.T. All rights reserved.
//

#include <stdio.h>
#include <stdlib.h>
#include <math.h>

//?????????????
typedef struct{
    long X,R,H;
}cone;

//????????????????????????0?no??????yes
//??????A????????2?B????????3?AB?????????4????
int isInArea(const cone *cone, long A, long B){
    long top;
    //???X??
    top = cone->H + cone->X;
    int ans=0;
    //top?B??????X?A??=???????????????????
    if(top<=B && cone->X >= A) ans =1;
    
    //???????????
    //?????A???????
    if(A< top && A > cone->X) ans =2;
    //??????B???????
    if(B<top && B>cone->X) ans =3;
    //A?B????????
    if((A< top && A > cone->X)&&(B<top && B>cone->X)) ans =4;
    
    return ans;
}



//????????X??????????????????????????
double coneRad(const cone *cone, long divX){
    long h = cone->H;
    long x = cone->X;
    long r = cone->R;
    long top = h+x;
    
    long dist =top - divX;
    
    
    //????????X????????????????????
    if(top< divX || x > divX) return 0;
    
    return r * ((double)dist/h);
}
//?????????????????????
double areaCone(double H, double R){
    return  1.0/3 * M_PI* R* R* H;
}

//B?A(B>A)???????????B?A???????????????????
double area(const cone *cone, long A, long B){
    long h = cone->H;
    long x = cone->X;
    long r = cone->R;
    long top = h+x;
    
    int condition = isInArea(cone, A, B);
#ifdef DEBUG
    printf("  condition=%d\n", condition);
#endif
    
    //??A?B??????????????0???????
    if(condition ==0) return 0;
    
    //??A?B?????????????
    if(condition==1){
        return  areaCone(h,r);
    }
    
    //????????A????????????
    if(condition== 2){
        return areaCone(top-A, coneRad(cone, A));
    }
    
    //????????B????????????
    if(condition == 3){
        double largerCone= areaCone(h,r);
        double smallerCone= areaCone(top-B, coneRad(cone, B));
        
#ifdef DEBUG
        printf("    largeCone=%f, smallerCone=%f\n", largerCone, smallerCone);
        printf("    coneRad()=%f, top:%ld, B:%ld\n",coneRad(cone, B), top, B);
#endif
        return  largerCone - smallerCone;
    }
    
    //??????A?B???????
    if(condition==4){
        double largerCone= areaCone(top-A,coneRad(cone, A));
        double smallerCone= areaCone(top-B, coneRad(cone, B));
        
        return  largerCone - smallerCone;
    }
    
    return 0;
}

int main(int argc, const char * argv[]) {
    long N,Q;
    long A,B;
    long i,k;
    long double ans=0;
    
    scanf("%ld %ld", &N, &Q);
    
    cone *cones = (cone *)malloc(sizeof(cone) * N);
    
    //???????
    for(i=0; i<N; i++){
        scanf("%ld %ld %ld", &cones[i].X, &cones[i].R, &cones[i].H);
    }
    
    //????????
    for(k=0; k<Q; k++){
        scanf("%ld %ld", &A, &B);
        
        ans =0;
        //??????????????????
        for(i=0; i<N; i++){
#ifdef DEBUG
            printf(" (H,X,R)=(%ld %ld %ld) (A,B) =(%ld %ld)  area =%f\n",cones[i].H, cones[i].X, cones[i].R, A,B ,area(&cones[i], A,B) );
#endif
            ans += area(&cones[i], A, B);
        }
        printf("%Lf\n", ans);
    }
    
#ifdef DEBUG
    cone cone1={3,0,2};
    printf(" !!!!%f", areaCone(2, 1.333));
#endif
    
    return 0;
} ./Main.c: In function ‘main’:
./Main.c:115:5: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
     scanf("%ld %ld", &N, &Q);
     ^
./Main.c:121:9: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
         scanf("%ld %ld %ld", &cones[i].X, &cones[i].R, &cones[i].H);
         ^
./Main.c:126:9: warning: ignoring return value of ‘scanf’, declared with attribute warn_unused_result [-Wunused-result]
         scanf("%ld %ld", &A, &B);
         ^